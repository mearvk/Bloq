<?xml version="1.0" encoding="UTF-8"?>
<?apml version="1.0" encoding="UTF-8"?>

<apml language="Java 9" version="1.0" class="ampl.examples.echoserver.Apmlsystem">  

    <definitions>
        <echoserver extends="ServerSocketImpl" class="Echoserver"></echoserver>   
    </definitions>
       
    <package default="apml.examples.echoserver"></package>      
        
    <system start="true" bndi="//echoserver/systems/1" id="echoserver" class="Echoserversystem">
        <object start="true" bndi="//echoserver/objects/1" class="EchoServer">                       
            <listener bndi="//echoserver/listeners/onconnect/1" id="esocl" class="Onconnectlistener" with="*">
                <subscriber bndi="//echoserver/subscribers/onconnect/1" class="Onconnect_1"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onconnect/2" class="Onconnect_2"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onconnect/3" class="Onconnect_3"></subscriber>
            </listener>
            <listener bndi="//echoserver/listeners/onexit/1" id="esoel" class="Onexitlistener" with="*">
                <subscriber bndi="//echoserver/subscribers/onexit/1" class="Onexit_1"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onexit/2" class="Onexit_2"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onexit/3" class="Onexit_3"></subscriber>
            </listener>
            <listener bndi="//echoserver/listeners/onread/1" id="esorl" class="Onreadlistener" with="*">
                <subscriber bndi="//echoserver/subscribers/onread/1" class="Onreceipt_1"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onread/2" class="Onreceipt_2"></subscriber>
                <subscriber bndi="//echoserver/subscribers/onread/3" class="Onreceipt_3"></subscriber>
            </listener>
            <listener bndi="//echoserver/listeners/ondispatch/1" id="esodl" class="Ondispatchlistener" with="*">
                <subscriber bndi="//echoserver/subscribers/ondispatch/1" class="Ondispatch_1"></subscriber>
                <subscriber bndi="//echoserver/subscribers/ondispatch/2" class="Ondispatch_2"></subscriber>
                <subscriber bndi="//echoserver/subscribers/ondispatch/3" class="Ondispatch_3"></subscriber>
            </listener>                                    
        </object>
    </system>   
    
    <system start="true" bndi="//echoclient/systems/2" id="echoclient" class="Echoclientsystem">
        <object start="true" bndi="//echoclient/objects/2" class="Echoclient">
            <listener bndi="//echoclient/listeners/1" class="Clientsocketlistener"></listener>
        </object>
    </system>                      
    
    <driver class="apml.examples.driver.StandardDriver"> //to start and attach APML objects to system framework; to build out skeleton for starters
        <template></template>
        <template></template>
        <template></template>
        <template></template>
    </driver>
    
    <compiler class="apml.examples.compiler.StdApmlToJavaCompiler"> //move APML markup over to Java
        <architect>Max Rupplin</architect>        
        <template type="camelcase"></template>
        <template type="annotations">formal</template>
        <template type="brackets">newline</template>
        <template type="class_treatment">inner</template>
    </compiler>
    
    <compiler class="apml.examples.compiler.StdJavaToApmlCompiler"> //move Java source code over to APML markup
        <architect>Max Rupplin</architect>        
        <template type=""></template>
        <template type=""></template>
    </compiler>    
</apml>

