<?xml version="1.0" encoding="UTF-8"?>
<?apml version="1.0" encoding="UTF-8"?>

<package name="globals" default="examples.echoserver" sourcedir="/source" builddir="/build">
<apml language="Java 9" version="1.0" class="Apmlsystem">  

    <definitions>
        <echoserver extends="ServerSocketImpl" class="Echoserver"></echoserver>   
    </definitions>                 
        
    <package name="servers" default="examples.echoserver.servers" sourcedir="/source" builddir="/build">
        <system start="true" bndi="//echoserver/systems/1" id="echoserver" class="Echoserversystem">        
            <object start="true" bndi="//echoserver/objects/1" class="Echoserver">                       
                <listener id="esocl" bndi="//echoserver/listeners/onconnect/1" class="Onconnectlistener" with="*">
                    <subscriber class="Onconnect_001"></subscriber>
                    <subscriber class="Onconnect_002"></subscriber>
                    <subscriber class="Onconnect_003"></subscriber>
                </listener>
                <listener id="esoel" bndi="//echoserver/listeners/onexit/1" class="Onexitlistener" with="*">
                    <subscriber class="Onexit_001"></subscriber>
                    <subscriber class="Onexit_002"></subscriber>
                    <subscriber class="Onexit_003"></subscriber>
                </listener>
                <listener id="esorl" bndi="//echoserver/listeners/onread/1" class="Onreadlistener" with="*">
                    <subscriber class="Onreceipt_001"></subscriber>
                    <subscriber class="Onreceipt_002"></subscriber>
                    <subscriber class="Onreceipt_003"></subscriber>
                </listener>
                <listener id="esodl" bndi="//echoserver/listeners/ondispatch/1" class="Ondispatchlistener" with="*">
                    <subscriber class="Ondispatch_001"></subscriber>
                    <subscriber class="Ondispatch_002"></subscriber>
                    <subscriber class="Ondispatch_003"></subscriber>
                </listener>  
            </object> 
            <object id="ftpserver" start="true" bndi="//ftpserver/objects/1" class="Ftpserver">                       
                <listener id="ftpsocl" bndi="//ftpserver/listeners/onconnect/1" class="Onconnectlistener" with="*">
                    <subscriber class="Onconnect_001"></subscriber>
                    <subscriber class="Onconnect_002"></subscriber>
                    <subscriber class="Onconnect_003"></subscriber>
                </listener>
                <listener id="ftpsoel" bndi="//ftpserver/listeners/onexit/1" class="Onexitlistener" with="*">
                    <subscriber class="Onexit_001"></subscriber>
                    <subscriber class="Onexit_002"></subscriber>
                    <subscriber class="Onexit_003"></subscriber>
                </listener>
                <listener id="ftpsorl" bndi="//ftpserver/listeners/onread/1" class="Onreadlistener" with="*">
                    <subscriber class="Onreceipt_001"></subscriber>
                    <subscriber class="Onreceipt_002"></subscriber>
                    <subscriber class="Onreceipt_003"></subscriber>
                </listener>
                <listener id="ftpsodl" bndi="//ftposerver/listeners/ondispatch/1" class="Ondispatchlistener" with="*">
                    <subscriber class="Ondispatch_001"></subscriber>
                    <subscriber class="Ondispatch_002"></subscriber>
                    <subscriber class="Ondispatch_003"></subscriber>
                </listener>                                                                                                  
            </object>        
        </system>   
    </package>
    
    <package name="clients" default="examples.echoserver.clients" sourcedir="source" builddir="build">
        <system start="true" bndi="//echoclient/systems/1" id="echoclient" class="Echoclientsystem">        
            <object start="true" bndi="//echoclient/objects/1" class="Echoclient">
                <listener class="Clientsocketlistener">
                    <subscriber class="Onclientdispatch_1"></subscriber>
                    <subscriber class="Onclientdispatch_2"></subscriber>
                    <subscriber class="Onclientdispatch_3"></subscriber>
                </listener>
            </object>        
        </system>                      
    </package>
    
    <driver class="StandardDriver"> //to start and attach APML objects to system framework; to build out skeleton for starters
        <template></template>
        <template></template>
        <template></template>
        <template></template>
    </driver>
    
    <compiler class="StdApmlToJavaCompiler"> //move APML markup over to Java
        <architect>Max Rupplin</architect>        
        <template type="camelcase"></template>
        <template type="annotations">formal</template>
        <template type="brackets">newline</template>
        <template type="class_treatment">inner</template>
    </compiler>
    
    <compiler class="StdJavaToApmlCompiler"> //move Java source code over to APML markup
        <architect>Max Rupplin</architect>        
        <template type=""></template>
        <template type=""></template>
    </compiler>    
    
    <dynamiclistener class="StdDynamicListener">
        <object start="true"></object>
    </dynamiclistener>
</apml>
</package>