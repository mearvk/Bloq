<?xml version="1.0" encoding="UTF-8"?>
<?apml version="1.0" encoding="UTF-8"?>

<package name="global" default="" sourcedir="examples.global" builddir="examples.global">
<apml language="Java 9" version="1.0" class="Apmlsystem">  

    <definitions>
        <echoserver extends="ServerSocketImpl" class="Echoserver"></echoserver>   
    </definitions>                 
        
    <package name="server" default="" sourcedir="examples.echoserver" builddir="examples.echoserver">
        <system start="true" bndi="//echoserver/systems/1" id="echoserver" class="Echoserversystem">        
            <object start="true" bndi="//echoserver/objects/1" class="Echoserver">                       
                <listener bndi="//echoserver/listeners/onconnect/1" id="esocl" class="Onconnectlistener" with="*">
                    <subscriber class="Onconnect_1"></subscriber>
                    <subscriber class="Onconnect_2"></subscriber>
                    <subscriber class="Onconnect_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/onexit/1" id="esoel" class="Onexitlistener" with="*">
                    <subscriber class="Onexit_1"></subscriber>
                    <subscriber class="Onexit_2"></subscriber>
                    <subscriber class="Onexit_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/onread/1" id="esorl" class="Onreadlistener" with="*">
                    <subscriber class="Onreceipt_1"></subscriber>
                    <subscriber class="Onreceipt_2"></subscriber>
                    <subscriber class="Onreceipt_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/ondispatch/1" id="esodl" class="Ondispatchlistener" with="*">
                    <subscriber class="Ondispatch_1"></subscriber>
                    <subscriber class="Ondispatch_2"></subscriber>
                    <subscriber class="Ondispatch_3"></subscriber>
                </listener>  
            </object> 
            <object start="true" bndi="//echoserver/objects/2" class="Ftpserver">                       
                <listener bndi="//echoserver/listeners/onconnect/1" id="esocl" class="Onconnectlistener" with="*">
                    <subscriber class="Onconnect_1"></subscriber>
                    <subscriber class="Onconnect_2"></subscriber>
                    <subscriber class="Onconnect_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/onexit/1" id="esoel" class="Onexitlistener" with="*">
                    <subscriber class="Onexit_1"></subscriber>
                    <subscriber class="Onexit_2"></subscriber>
                    <subscriber class="Onexit_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/onread/1" id="esorl" class="Onreadlistener" with="*">
                    <subscriber class="Onreceipt_1"></subscriber>
                    <subscriber class="Onreceipt_2"></subscriber>
                    <subscriber class="Onreceipt_3"></subscriber>
                </listener>
                <listener bndi="//echoserver/listeners/ondispatch/1" id="esodl" class="Ondispatchlistener" with="*">
                    <subscriber class="Ondispatch_1"></subscriber>
                    <subscriber class="Ondispatch_2"></subscriber>
                    <subscriber class="Ondispatch_3"></subscriber>
                </listener>                                                                                                  
            </object>        
        </system>   
    </package>
    
    <package name="client" default="" sourcedir="examples.echoclient" builddir="examples.echoclient">
        <system start="true" bndi="//echoclient/systems/1" id="echoclient" class="Echoclientsystem">        
            <object start="true" bndi="//echoclient/objects/1" class="Echoclient">
                <listener class="Clientsocketlistener">
                    <subscriber class="Onclientdispatch_1"></subscriber>
                    <subscriber class="Onclientdispatch_2"></subscriber>
                    <subscriber class="Onclientdispatch_3"></subscriber>
                </listener>
            </object>        
        </system>                      
    </package>
    
    <driver class="StandardDriver"> //to start and attach APML objects to system framework; to build out skeleton for starters
        <template></template>
        <template></template>
        <template></template>
        <template></template>
    </driver>
    
    <compiler class="StdApmlToJavaCompiler"> //move APML markup over to Java
        <architect>Max Rupplin</architect>        
        <template type="camelcase"></template>
        <template type="annotations">formal</template>
        <template type="brackets">newline</template>
        <template type="class_treatment">inner</template>
    </compiler>
    
    <compiler class="StdJavaToApmlCompiler"> //move Java source code over to APML markup
        <architect>Max Rupplin</architect>        
        <template type=""></template>
        <template type=""></template>
    </compiler>    
    
    <dynamiclistener class="StdDynamicListener">
        <object start="true"></object>
    </dynamiclistener>
</apml>
</package>